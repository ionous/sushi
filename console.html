<hsm-state name="Console">
  <hsm-state name="ConsoleClosed">
    <hsm-event on="demo-console" goto="ConsoleOpen"></hsm-event>
  </hsm-state>
  <hsm-state name="ConsoleOpen" console-control="console" hsm-enter="console.show('consoleWindow')" hsm-init="stream.processing() ? 'ConsoleInputDisabled' : 'ConsoleInputEnabled'" hsm-exit="console.dismiss('exiting')">
    <hsm-event on="modal-closed" goto="ConsoleClosed"></hsm-event>
    
    <hsm-state name="ConsoleInputDisabled" hsm-enter="console.allowInput(false)">
      <hsm-event on="stream-empty" goto="ConsoleInputEnabled"></hsm-event>
    </hsm-state>
    <hsm-state name="ConsoleInputEnabled" hsm-enter="console.allowInput(true)">
      <hsm-event on="stream-processing" goto="ConsoleInputDisabled"></hsm-event>
      <!-- the console win submits user input to the console api -->
    </hsm-state>
  </hsm-state>
</hsm-state>
