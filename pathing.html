<!-- move the avatar to a specific target ( or position ) until interrupted-->
<hsm-state name="Pathing" move-control="pathing" hsm-enter="pathing.start(avatar,$evt.target,$evt.pos,true)" hsm-exit="pathing.stop()">
  <hsm-event on="mouse-down" goto="Planning"></hsm-event>
  <hsm-event on="pathing-arrived" run="pathing.faceTarget()"></hsm-event>
  <hsm-event on="pathing-arrived" run="player.interact(pathing.target())"></hsm-event>
  <hsm-event on="pathing-blocked" run="player.interact(pathing.target())"></hsm-event>
  <hsm-event on="update-game" run="pathing.updateMove($evt.dt)"></hsm-event>
  <!-- maybe move-blocked? -->
</hsm-state>
